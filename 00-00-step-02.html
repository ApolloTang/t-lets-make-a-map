<!DOCTYPE html>
<meta charset="utf-8">
<style>

/* CSS goes here. */

</style>
<body>
    <script src="http://localhost:8001/js/lib/d3-3.4.13.js" charset="utf-8"></script>
    <script src="http://localhost:8001/js/lib/topojson.v2.min.js"></script>
<script>

var width = 960,
    height = 1160;

var svg = d3.select('body').append('svg').attr('width', width).attr('height', height);

d3.json("./map-files/uk.json", drawMap00 )

function drawMap00 (error, uk) {
    if (error) return console.error(error);

    // console.log(uk);

    // Configure path generator to genearate marcator projection
    var projType_mercator = d3.geo.mercator();
    var pathGeneratorFn = d3.geo.path().projection(projType_mercator);

    // Convert topojson to geoJSON
    var geoJSON_uk = topojson.feature(uk, uk.objects.subunits );

    svg.append('path')
        .datum( geoJSON_uk )
        .attr('d', function(geoJSON){
            // generate svg path
            var path_uk = pathGeneratorFn( geoJSON );
            return path_uk;
        })
}

// same as drawMap00, but not using datum
function drawMap01 (error, uk) {
    if (error) return console.error(error);

    // Configure path generator to genearate marcator projection
    var projType_mercator = d3.geo.mercator()
    var pathGeneratorFn = d3.geo.path().projection(projType_mercator);

    // Convert topojson to geoJSON
    var geoJSON_uk = topojson.feature(uk, uk.objects.subunits );
    // generate svg path
    var path_uk = pathGeneratorFn( geoJSON_uk );

    svg.append('path').attr('d', function(){ return path_uk; })
}

</script>
